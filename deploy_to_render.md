# Deploy TechZone Portal to Render - Step by Step Guide

## Prerequisites
- [ ] GitHub repository with your code
- [ ] Render account (free tier available)
- [ ] Firebase project configured
- [ ] Gmail account with App Password

## Step 1: Prepare Your Repository

1. **Ensure all files are committed to GitHub:**
   ```bash
   git add .
   git commit -m "Prepare for Render deployment"
   git push origin main
   ```

2. **Verify these files exist in your repository:**
   - ✅ `app.py` (main entry point)
   - ✅ `requirements.txt` (dependencies)
   - ✅ `render.yaml` (deployment config)
   - ✅ `portalflask/` folder (main application)

## Step 2: Connect to Render

1. **Go to [render.com](https://render.com) and sign in**
2. **Click "New +" → "Web Service"**
3. **Connect your GitHub repository**
4. **Select the repository containing your TechZone Portal code**

## Step 3: Configure the Service

1. **Service Name:** `techzone-portal` (or your preferred name)
2. **Environment:** `Python 3`
3. **Region:** Choose closest to your users
4. **Branch:** `main` (or your default branch)
5. **Build Command:** `pip install -r requirements.txt`
6. **Start Command:** `gunicorn app:techzone_app --bind 0.0.0.0:$PORT`

## Step 4: Set Environment Variables

**Click "Advanced" → "Add Environment Variable"**

### Required Variables (set `sync: false` for sensitive data):

| Key | Value | Sync |
|-----|-------|------|
| `FIREBASE_CONFIG` | Your Firebase JSON as string | ❌ false |
| `EMAIL_ADDRESS` | Your Gmail address | ❌ false |
| `EMAIL_PASSWORD` | Your Gmail App Password | ❌ false |

### Optional Variables (with defaults):

| Key | Value | Sync |
|-----|-------|------|
| `SMTP_SERVER` | `smtp.gmail.com` | ✅ true |
| `SMTP_PORT` | `587` | ✅ true |
| `DEBUG` | `false` | ✅ true |

**Note:** `SECRET_KEY` will be auto-generated by Render.

## Step 5: Deploy

1. **Click "Create Web Service"**
2. **Wait for build to complete** (usually 2-5 minutes)
3. **Check build logs** for any errors
4. **Your app will be available at:** `https://your-service-name.onrender.com`

## Step 6: Verify Deployment

1. **Test the main page loads**
2. **Test Firebase connection** (check logs for Firebase success messages)
3. **Test email functionality** (if configured)
4. **Check file uploads/downloads work**

## Troubleshooting Common Issues

### Build Fails
- Check `requirements.txt` has all dependencies
- Verify Python version in `runtime.txt`
- Check build logs for specific errors

### Firebase Connection Error
- Verify `FIREBASE_CONFIG` environment variable
- Ensure Firebase project has Firestore and Storage enabled
- Check service account permissions

### Email Not Working
- Verify Gmail App Password (not regular password)
- Ensure 2FA is enabled on Gmail
- Check `EMAIL_ADDRESS` and `EMAIL_PASSWORD` variables

### Port Binding Error
- Ensure start command uses `gunicorn app:techzone_app --bind 0.0.0.0:$PORT`
- Check that `app.py` imports the Flask app correctly

## Monitoring and Maintenance

1. **Check Render dashboard regularly** for service status
2. **Monitor logs** for any runtime errors
3. **Set up alerts** for service downtime
4. **Update dependencies** periodically

## Cost Considerations

- **Free tier:** 750 hours/month (usually sufficient for development/testing)
- **Paid plans:** Start at $7/month for always-on service
- **Bandwidth:** Free tier includes 100GB/month

## Next Steps

After successful deployment:
1. **Set up custom domain** (optional)
2. **Configure SSL certificates** (automatic with Render)
3. **Set up monitoring and alerts**
4. **Plan for scaling** if needed

---

**Need help?** Check Render's documentation or community forums for additional support.
